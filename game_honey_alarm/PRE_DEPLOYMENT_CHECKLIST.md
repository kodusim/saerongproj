# 🚀 출시 전 체크리스트

## ✅ 완료된 항목

### 1. 기본 설정
- [x] **granite.config.ts** 설정 완료
  - appName: 'gamehoney'
  - 브랜드 정보 (displayName, icon, primaryColor) 설정됨
  - Vite 빌드 명령어 설정됨
- [x] **gamehoney.ait** 파일 생성 완료
- [x] **토스 로그인** SDK 연동 완료 (useAuth.ts)
- [x] **연결 끊기 콜백** Django 구현 가이드 작성됨

### 2. 개발 완료
- [x] 게임 목록 조회 및 구독 기능
- [x] 알림 수신 화면
- [x] 설정 화면 (프로필, 구독 정보, 로그아웃)
- [x] 인트로 화면 + 로그인 버튼

---

## ⚠️ 출시 전 필수 확인 사항

### 1. 콘솔 설정 확인

#### 앱 정보
- [ ] **앱 정보 검토** 완료 확인
- [ ] **사업자 인증** 완료 확인
- [ ] **대표관리자 신청 승인** 완료 확인

#### 약관 설정
- [ ] 토스 로그인 사용 약관 등록됨
- [ ] 필수 약관 / 선택 약관 구분 명확
- [ ] 약관 URL이 정상적으로 연결됨

#### 연결 끊기 콜백
- [x] 콜백 URL 설정: `https://saerong.com/api/auth/disconnect`
- [x] Basic Auth 설정 완료
- [x] Django에서 콜백 구현 완료

### 2. 브릿지 뷰 (Bridge View)

- [x] 앱 이름, 로고, 대표 색상 적용됨 (granite.config.ts)
- [ ] **토스앱에서 실제 테스트하여 브릿지 뷰 확인**
- [ ] 브릿지 뷰 이후 로딩 시간 20초 미만 확인

### 3. 인트로 화면 (중요!)

**앱인토스 정책**: 토스 로그인 사용 시 반드시 인트로 화면 제공 필요

- [ ] **현재 IntroScreen.tsx가 서비스 소개를 충분히 제공하는지 확인**
  - 서비스의 성격과 가치를 사용자가 이해할 수 있어야 함
  - "곧바로 로그인 유도"는 허용되지 않음
- [ ] 인트로 화면에서 로그인 버튼이 명확하게 표시됨
- [ ] 로그인 실패 시 에러 메시지 표시 확인

### 4. 내비게이션 바

현재 설정 확인 필요:
- [ ] **뒤로가기 버튼** 설정 확인
  - 첫 화면에서는 백버튼 사용하지 않아야 함
  - 히스토리백 필요한 화면에서만 사용
- [ ] **브랜드 로고 + 이름** 표시 확인 (필수)
- [ ] **홈 버튼** 필요 여부 결정 (선택)
- [ ] **더보기 버튼 (⋯)** 표시 확인 (필수)
- [ ] **닫기 버튼 (X)** 표시 확인 (필수)

### 5. 토스 로그인 구현

#### API 엔드포인트 확인
- [ ] Django `/api/auth/login` 엔드포인트가 다음을 수행하는지 확인:
  1. `authorizationCode`, `referrer` 받음
  2. Apps in Toss API `/api-partner/v1/apps-in-toss/user/oauth2/generate-token`으로 토큰 발급
  3. `accessToken`, `refreshToken`, `user` 정보 반환 (camelCase)

#### 로그인 플로우 테스트
- [ ] **첫 로그인 시**: 약관 동의 화면 표시됨
- [ ] **재로그인 시**: 별도 로그인 창 없이 바로 인가 코드 반환됨
- [ ] **로그인 성공 후**: 사용자 정보 정상 표시됨 (SettingsScreen)
- [ ] **로그인 실패 시**: 적절한 에러 메시지 표시됨

#### 로그인 닫기 버튼 동작 (중요!)
- [ ] **인트로 페이지에서 닫기 누르면**: 미니앱 닫힘
- [ ] **서비스 중간에서 닫기 누르면**: 이전 화면으로 이동

#### 연결 끊기 테스트
- [ ] 토스앱 설정 > 토스로 로그인한 서비스 > 연결 끊기 후
  - 미니앱 재접속 시 기존 데이터 없음
  - 새로 로그인 요청함

### 6. 전반적인 서비스 이용

- [ ] **앱 나이 제한**: ait.config.json의 `minAge: 19`가 실제 서비스와 일치
- [ ] **스크롤/인터랙션**: 2초 이상 지연되지 않음
- [ ] **재접속 시**: 구독 정보 등 데이터 유지됨
- [ ] **모든 버튼**: 정상 작동함
- [ ] **리스트 기능**: 게임 목록 정렬/검색 정상 작동
- [ ] **기능화되지 않은 컴포넌트**: 없음

### 7. 권한 (Permissions)

현재 설정:
```json
"permissions": ["storage", "network"]
```

- [ ] **storage 권한**: 실제로 사용됨 (localStorage)
- [ ] **network 권한**: API 호출에 사용됨
- [ ] **권한 미동의 시**: 기능 제외하고 나머지 정상 작동 확인

### 8. 데이터 & 메모리

- [ ] **데이터 사용량**: 과도하지 않음 (네트워크 모니터링)
- [ ] **메모리 누수**: 없음 (브라우저 개발자 도구로 확인)
- [ ] **휴대폰 발열**: 없음 (실제 디바이스 테스트)

### 9. 보안

- [ ] **XSS 취약점**: 없음 (사용자 입력 적절히 sanitize)
- [ ] **API 키/토큰**: 환경변수로 관리됨 (코드에 하드코딩 안 됨)
- [ ] **HTTPS**: 모든 API 호출이 HTTPS 사용
- [ ] **민감 정보**: 로그에 출력되지 않음

### 10. 다크모드

- [ ] **라이트 모드로 고정**: 다크모드 미지원 확인
- [ ] **내비게이션 바**: 라이트 모드로 고정됨

---

## 🧪 테스트 체크리스트

### 샌드박스 앱 테스트
- [ ] 샌드박스 앱 다운로드 및 설치
- [ ] 개발자 계정으로 로그인
- [ ] `.ait` 파일 업로드
- [ ] **최소 1회 이상 테스트 완료** (검토 요청 버튼 활성화 조건)

### 주요 기능 테스트
- [ ] 앱 진입 → 브릿지 뷰 → 인트로 화면 정상
- [ ] 토스 로그인 → 약관 동의 → 로그인 완료
- [ ] 게임 목록 조회 → 구독하기 → 구독 목록 확인
- [ ] 알림 화면 이동 → 알림 목록 표시
- [ ] 설정 화면 → 프로필 정보 표시 → 로그아웃

### 네트워크 오류 테스트
- [ ] API 호출 실패 시 에러 메시지 표시
- [ ] 네트워크 없을 때 적절한 안내
- [ ] 재시도 로직 동작 확인

### 디바이스 테스트
- [ ] iOS 디바이스에서 정상 작동
- [ ] Android 디바이스에서 정상 작동
- [ ] 세로 모드(portrait)에서 정상 표시

---

## 📋 출시 프로세스

### 1. 번들 업로드
- [x] `npx granite build`로 `gamehoney.ait` 생성 완료
- [ ] 앱인토스 콘솔에서 `.ait` 파일 업로드

### 2. 검토 요청
- [ ] 샌드박스에서 1회 이상 테스트 완료
- [ ] **검토 요청하기** 버튼 클릭
- [ ] 검토 대기 (영업일 기준 최대 3일)

### 3. 검토 결과 확인
- [ ] 승인 시: 이메일 수신 확인
- [ ] 반려 시: 반려 사유 확인 및 수정 후 재요청

### 4. 출시
- [ ] 승인 후 **출시하기** 버튼 클릭
- [ ] ⚠️ **즉시 전체 사용자에게 반영됨**

---

## 🔍 반려 주요 사유

다음 항목들은 반려될 가능성이 높으니 주의:

1. **인트로 화면 없이 즉시 로그인 유도**
2. 브릿지 뷰 이후 과도한 로딩 (20초 이상)
3. 토스 로그인 외 다른 로그인 방식 사용
4. 내비게이션 바 커스터마이징
5. 작동하지 않는 버튼/컴포넌트 포함
6. 자사 앱/웹 설치 유도
7. 보안 취약점
8. 과도한 데이터/메모리 사용

---

## 📚 참고 가이드

- [비게임 출시 가이드](./guide/6.출시/app-nongame.md)
- [출시 프로세스](./guide/6.출시/deploy.md)
- [토스 로그인 개발 가이드](./guide/4.개발/토스로그인개발하기.md)
- [연결 끊기 콜백 구현 가이드](./TOSS_DISCONNECT_CALLBACK_GUIDE.md)
- [Django API 수정 요청](./DJANGO_AUTH_API_수정요청.md)

---

## 💡 다음 단계

1. ✅ **현재까지 완료**: gamehoney.ait 파일 생성 완료
2. 🔄 **지금 할 일**: 위 체크리스트 항목들 확인
3. 📱 **그 다음**: 샌드박스 앱에서 테스트
4. 🚀 **마지막**: 콘솔에서 검토 요청 → 출시
